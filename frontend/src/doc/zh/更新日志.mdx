# 更新日志

## Version 3.0 — 核心重构

SocialSim4 3.0 将平台重新定位为用于因果探索的 LLM 驱动社会仿真框架，围绕 Agent / Action / Event / Scene 的严格边界重建所有核心流程，每一步交互都可回放与审计。

### 重点亮点
- 全新架构：智能体的推理、规划与决策全部由 LLM 驱动；动作成为触达环境的唯一入口；事件负责在智能体与场景之间传递每一次变化。
- 场景取代旧有模板，提供精简接口来定义规则、提示与事件传播，底层模拟器负责回合调度。
- 动作空间采用严格基类，可混合复用通用动作（如 `send_message`）与场景专属动作（如 `open_voting`、`play_card`）。
- 模拟树（SimTree）支持在任意节点克隆完整模拟器状态、分支多条时间线、回放干预操作，并串流运行日志以进行反事实分析。

### 调度与智能体运行时
- 自定义调度策略：顺序、循环、随机、受控与 LLM 主持并存，Moderator 可通过 `schedule_order` 动态排队。
- 智能体对话更细腻、上下文更贴合、可在单回合内串联多个动作，平均回合耗时约降至 15 秒；显式动作/事件日志显著降低调试成本。

### 场景库
- 场景焕新：Simple Chat、Legislative Council、Village 等场景全面迁移到新接口，实现链式动作、程序规则与基于邻近度的信息流。
- 新增场景：狼人杀（Moderator 管理 `open_voting` / `close_voting` 与排期）与 斗地主（发牌、叫牌、出牌、计分的严格规则执行）。

### 开发体验
- DevUI 通过基于差分的 WebSocket 流推送节点增量，大幅降低网络负载，使长时间仿真更易监控。

### 重大变更
- 3.0 与 2.x 不兼容，所有仿真需迁移至全新的 Scene / Action / Event API。

### 示例场景
- 随附的立法会仿真展示了复杂政策辩论、主持人调度与可审计的事件日志（发言、投票、调度）。

## Version 2.0 — 交互体验提升

**发布日期：2025-06-16**

2.0 版本聚焦于提升仿真结果复盘效率、智能体配置灵活度与整体可用性。

### 新增能力
- 仿真结果页新增“一键总结”按钮，加速回顾当前仿真内容。
- 支持从 `.txt` 等文件自动解析智能体配置，快速生成多智能体初始设定。
- 引入情绪展示模块，实时可视化推理过程中的情绪状态。
- 支持用户持久化配置多组大模型接口（对话、生成、嵌入），仿真时自动填充调用参数。
- 发布完整操作指南，覆盖平台使用流程与常见排错步骤。
